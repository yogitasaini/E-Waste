(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var h=this||self;function l(a,b){a=a.split(".");var d=h;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var c;a.length&&(c=a.shift());)a.length||void 0===b?d[c]&&d[c]!==Object.prototype[c]?d=d[c]:d=d[c]={}:d[c]=b};var m,n;a:{for(var p=["CLOSURE_FLAGS"],q=h,t=0;t<p.length;t++)if(q=q[p[t]],null==q){n=null;break a}n=q}var u=n&&n[610401301];m=null!=u?u:!1;var v;const w=h.navigator;v=w?w.userAgentData||null:null;function x(a){return m?v?v.brands.some(({brand:b})=>b&&-1!=b.indexOf(a)):!1:!1}function y(a){var b;a:{if(b=h.navigator)if(b=b.userAgent)break a;b=""}return-1!=b.indexOf(a)};function z(){return m?!!v&&0<v.brands.length:!1}function A(){return z()?x("Chromium"):(y("Chrome")||y("CriOS"))&&!(z()?0:y("Edge"))||y("Silk")};!y("Android")||A();A();y("Safari")&&(A()||(z()?0:y("Coast"))||(z()?0:y("Opera"))||(z()?0:y("Edge"))||(z()?x("Microsoft Edge"):y("Edg/"))||z()&&x("Opera"));const B=Symbol();function C(a,b){if(B)return a[B]|=b;if(void 0!==a.i)return a.i|=b;Object.defineProperties(a,{i:{value:b,configurable:!0,writable:!0,enumerable:!1}});return b}function D(a){let b;B?b=a[B]:b=a.i;return null==b?0:b}function E(a,b){B?a[B]=b:void 0!==a.i?a.i=b:Object.defineProperties(a,{i:{value:b,configurable:!0,writable:!0,enumerable:!1}});return a}function F(a){C(a,16);return a}function aa(a,b){E(b,(a|0)&-51)}function G(a,b){E(b,(a|18)&-41)};var H={};function I(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var J=Object.freeze(E([],23));function K(a){var b=a.length;(b=b?a[b-1]:void 0)&&I(b)?b.g=1:a.push({g:1})};function L(a){const b=a.i+a.s;return a.m||(a.m=a.j[b]={})}function M(a,b,d,c){a.l&&(a.l=void 0);b>=a.i||c?L(a)[b]=d:(a.j[b+a.s]=d,(a=a.m)&&b in a&&delete a[b])}
function N(a,b,d){var c=-1===d?null:d>=a.i?a.m?a.m[d]:void 0:a.j[d+a.s];var f=!1;if(null==c||"object"!==typeof c||(f=Array.isArray(c))||c.u!==H)if(f){f=D(a.j);const e=D(c);let g=e;0===g&&(g|=f&16);g|=f&2;g!==e&&E(c,g);b=new b(c)}else b=void 0;else b=c;b!==c&&null!=b&&M(a,d,b,!1);c=b;if(null==c)return c;D(a.j)&2||(b=c,D(b.j)&2&&(f=O(b,!1),f.l=b,b=f),b!==c&&(c=b,M(a,d,c,!1)));return c};let P;function Q(a,b){P=b;a=new a(b);P=void 0;return a};function ba(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":if(a)if(Array.isArray(a)){if(0!==(D(a)&128))return a=Array.prototype.slice.call(a),K(a),a}else if(null!=a&&a instanceof Uint8Array){let b="",d=0;const c=a.length-10240;for(;d<c;)b+=String.fromCharCode.apply(null,a.subarray(d,d+=10240));b+=String.fromCharCode.apply(null,d?a.subarray(d):a);return btoa(b)}}return a};function R(a,b,d,c,f,e){if(null!=a){if(Array.isArray(a))a=f&&0==a.length&&D(a)&1?void 0:e&&D(a)&2?a:S(a,b,d,void 0!==c,f,e);else if(I(a)){const g={};for(let k in a)g[k]=R(a[k],b,d,c,f,e);a=g}else a=b(a,c);return a}}function S(a,b,d,c,f,e){const g=D(a);c=c?!!(g&16):void 0;a=Array.prototype.slice.call(a);for(let k=0;k<a.length;k++)a[k]=R(a[k],b,d,c,f,e);d(g,a);return a}function ca(a){return a.u===H?a.toJSON():ba(a)}function da(a,b){a&128&&K(b)};function T(a,b,d=G){if(null!=a){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){const c=D(a);if(c&2)return a;if(b&&!(c&32)&&(c&16||0===c))return E(a,c|18),a;a=S(a,T,c&4?G:d,!0,!1,!0);b=D(a);b&4&&b&2&&Object.freeze(a);return a}a.u===H&&(D(a.j)&2||(a=O(a,!0),C(a.j,18)));return a}}
function O(a,b){var d=a.j,c=F([]),f=a.constructor.i;f&&c.push(f);f=a.m;if(f){c.length=d.length;var e={};c[c.length-1]=e}0!==(D(d)&128)&&K(c);b=b||D(a.j)&2?G:aa;c=Q(a.constructor,c);a.v&&(c.v=a.v.slice());e=!!(D(d)&16);var g=f?d.length-1:d.length;for(let r=0;r<g;r++){var k=c,na=r-a.s,oa=T(d[r],e,b);if(D(k.j)&2)throw Error();M(k,na,oa,!1)}if(f)for(const r in f){a=c;d=+r;g=T(f[r],e,b);if(D(a.j)&2)throw Error();M(a,d,g,!0)}return c};var V=class{constructor(a,b,d){null==a&&(a=P);P=void 0;var c=this.constructor.i;if(null==a){a=c?[c]:[];var f=!0;E(a,48)}else{if(!Array.isArray(a))throw Error();if(c&&c!==a[0])throw Error();var e=C(a,0)|32;f=0!==(16&e);if(128&e)throw Error();E(a,e)}this.s=c?0:-1;this.j=a;a:{e=this.j.length;c=e-1;if(e&&(e=this.j[c],I(e))){this.m=e;this.i=c-this.s;break a}void 0!==b&&-1<b?(this.i=Math.max(b,c+1-this.s),this.m=void 0):this.i=Number.MAX_VALUE}if(this.m&&"g"in this.m)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');
if(d){b=f&&!0;f=this.i;let k;for(c=0;c<d.length;c++)if(e=d[c],e<f){e+=this.s;var g=a[e];g?U(g,b):a[e]=J}else k||(k=L(this)),(g=k[e])?U(g,b):k[e]=J}}toJSON(){return S(this.j,ca,da,void 0,!1,!1)}};function U(a,b){if(Array.isArray(a)){var d=D(a),c=1;!b||d&2||(c|=16);(d&c)!==c&&E(a,d|c)}}V.prototype.u=H;V.prototype.toString=function(){return this.j.toString()};function ea(a){return b=>{if(null==b||""==b)b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);b=Q(a,F(b))}return b}};var ha=class extends V{constructor(a){super(a,-1,fa)}},fa=[17];var ja=class extends V{constructor(a){super(a,-1,ia)}},ia=[27];var la=class extends V{constructor(a){super(a,-1,ka)}},ka=[8];var ma=ea(class extends V{constructor(a){super(a)}});var qa=ea(class extends V{constructor(a){super(a,-1,pa)}}),pa=[1,2,3];function W(a,b){a=a.getElementsByTagName("META");for(let d=0;d<a.length;++d)if(a[d].getAttribute("name")===b)return a[d].getAttribute("content")||"";return""};function X(a,b){a=a.body;var d={detail:void 0};let c;"function"===typeof window.CustomEvent?c=new CustomEvent(b,d):(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!!d.bubbles,!!d.cancelable,d.detail));a.dispatchEvent(c)}
var ra=class{constructor(a){this.body=a;this.i=[];W(a,"sampling_mod");var b=W(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var d=a.getElementsByTagName("META");for(let c=0;c<d.length;++c)if("namespace"===d[c].getAttribute("name")&&d[c].getAttribute("index")===(0).toString()){d[c].setAttribute("content",b);break a}d=a.querySelector("#mys-meta");d||(d=document.createElement("div"),d.id="mys-meta",d.style.position="absolute",d.style.display="none",a.appendChild(d));a=document.createElement("META");
a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());d.appendChild(a)}}if(!(0<this.i.length)){a=W(this.body,"environment");for(const c of a.split("|"))c&&this.i.push(c)}}addEventListener(a,b){this.body.addEventListener(a,b)}};function sa(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function ta(a){if(1>=a.l.offsetWidth||1>=a.l.offsetHeight)return!1;a.i.remove();X(a.context,"spanReady");return!0}
var ua=class{constructor(a){this.context=a;this.o={D:!1,C:100};this.l=sa("SPAN");this.i=sa("DIV");this.l.style.fontSize="6px";this.l.textContent="go";this.i.style.position="absolute";this.i.style.top="100%";this.i.style.left="100%";this.i.style.width="1px";this.i.style.height="0";this.i.style.overflow="hidden";this.i.style.visibility="hidden";this.i.appendChild(this.l)}wait(){if(!this.o.D&&(X(this.context,"spanStart"),this.context.body.appendChild(this.i),!ta(this)))return new Promise(a=>{const b=
setInterval(()=>{ta(this)&&(clearInterval(b),a())},this.o.C)})}};var va=class{constructor(a,b){this.context=a;this.i=N(b,ja,1)||new ja;N(b,la,12)||new la;N(this.i,ha,10)||new ha}};function wa(a){a.o.length=0;a.l=!0}function xa(a,b){a.i=!0;const d=()=>{a.l=!1;const c=a.o.shift();return void 0===c?(a.i=!1,Promise.resolve()):xa(a,c())};return b?b.then(d,()=>{if(a.l)return d();a.i=!1;return Promise.reject()}):d()}function ya(a,b){for(const d of b)a.o.push(d);if(!a.i)return xa(a)}var za=class{constructor(){this.l=this.i=!1;this.o=[]}};function Aa(a){wa(a.o);return ya(a.o,[()=>{if(!a.A){var b=W(a.context.body,"render_config")||"[]";b=ma(b);b=new va(a.context,b);a.A=b}b=(new ua(a.context)).wait();X(a.context,"browserStart");X(a.context,"browserStartEnd");a.i&=-31;a.i|=2;return b},()=>{X(a.context,"browserReady");X(a.context,"browserReadyEnd");a.i|=4;X(a.context,"overallReady")},()=>{X(a.context,"browserQuiet");X(a.context,"browserQuietEnd");a.i|=8}])}
function Ba(a){qa(W(a.context.body,"engine_msg")||"[]");return Aa(a)||Promise.resolve()}var Y=class{constructor(a,b){this.o=new za;this.i=0;this.context=new ra(b)}B(){return this.i}l(){this.i&=-31;this.i|=1;let a=0;const b=this.context.body;b.addEventListener("browserRender",()=>{++a;if(1===a)X(this.context,"overallStart"),Ba(this).then(()=>{X(this.context,"overallQuiet")});else{var d=b.clientHeight;b.clientWidth&&d&&Ba(this)}})}};let Z;l("mys.engine.init",(a,b)=>{Z=new Y(a,b);Z.l()});l("mys.engine.stage",()=>{let a;return(null==(a=Z)?void 0:a.i)||0});l("mys.Engine",Y);l("mys.Engine.prototype.i",Y.prototype.l);l("mys.Engine.prototype.s",Y.prototype.B);}).call(this);
